<!DOCTYPE html>
<html>
  <head>
        <title>憂鬱與我們的距離</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="scrollTop.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
        <style>
                body {font-family: "Times New Roman", Georgia, Serif; background: #e0e4e8;}
                h1,
                h2,
                h3,
                h4,
                h5,
                h6,
                p{
                    font-family: 'Noto Sans TC', sans-serif;
                    letter-spacing: 4px;
                }
                th {
                background-color: black;
                border:1px solid #2f3944;
                color:#fff;
                }
                td {
                border:1px solid #2f3944;
                }
                tr{
                height:60px;
                }
        </style>
  </head>
  <body>
    <div class="top">
        <nav class="top-nav">
            <a href="index.html">憂鬱與我們的距離</a>
            <div class="top-Contents">
                <a href="depressionQA.html">憂鬱症Q&A </a>
                <a href="test.html">憂鬱測驗</a>
                <a href="messageBoard.html">留言板</a>
            </div>
        </nav>
    </div>
<div class="up">
  <div  class="center">
    <div class="w3-content" style="max-width:1600px">
    <h1>想說甚麼，勇敢說！</h1>
    <p>在留言板上抒發你的想法。</p>        
    <br>
    <!-- 輸入框 先宣告submit不回傳 再定義各個欄位form內容 -->
    <form action="" method="post" onsubmit="return false;">
    <input TYPE="text" id="username" name="username" value="" placeholder="姓名" class="BG-Copy" size="30" />
    <br>
    <br>
    <TEXTAREA NAME="feedback" id="feedback" ROWS="8" COLS="80" placeholder="想說甚麼都可以" class="BG-Copy" style="border:2px #2f3944 solid;"></TEXTAREA>
    <br>
    <!-- 定義送出鍵的動作，使用JavaScript的function-->
    <input TYPE="submit" VALUE="送出" class="btn1" style='text-align:"right"' onclick='processFormData();'>
    </form>
    </div>
    <!-- 分隔線hr -->
    <hr>
    <br>
    <CAPTION>
    <h2><strong>我的歷史紀錄</strong></h2>
    </CAPTION>
    <br>
    <!-- 表格定義 設定置中 -->
    <table width="800px" align="center" id='Feedback_table'>
    <tr>
    <th width="25%">留言時間</th>
    <th width="15%">姓名</th>
    <th width="30%">意見內容</th>
    <th width="10%">刪除</th>
    </tr>
    </table>
  </div>
</div>
    <footer>
        <div id="footermenu">
          <ul>
            <li style="list-style-type: none">參考資料</li>
            <li><a href="https://www.depression.org.tw/index.asp" target="_blank">社團臺灣憂鬱症防治協會</a></li>
            <li><a href="https://www.etmh.org/CustomPage/HtmlEditorPage.aspx?MId=929&ML=3" target="_blank">董氏基金會</a></li>
          </ul>
          <ul>
            <li style="list-style-type: none">素材來源</li>
            <li><a href="https://unsplash.com/photos/yZygONrUBe8" target="_blank">Ocean clouds seen from space</a></li>
            <li><a href="https://chojugiga.com/" target="_blank">ダ鳥獣戯画</a></li>
            </ul>
          <ul>
            <li style="list-style-type: none">參考模板</li>
            <li><a href="https://www.w3schools.com/w3css/tryw3css_templates_gourmet_catering.htm" target="_blank">Gourmet Catering Template</a></li>
            <li><a href="https://www.w3schools.com/w3css/tryit.asp?filename=tryw3css_templates_cafe&stacked=h" target="_blank">Cafe Template</a></li>
          </ul>
          <ul>
            <li style="list-style-type: none">參考程式</li>
            <li><a href="https://vivivvvvv.medium.com/%E7%95%99%E8%A8%80%E6%9D%BF%E7%B7%B4%E7%BF%92%E5%89%8D%E7%AB%AF-html-css-javascript-837f36b5fc23" target="_blank">留言板練習前端</a></li>
          </ul>
        </div>
    </footer>
    <a href="#" class="toTop"> ↑ </a>
  </body>
  <!-- 引用js/index的javascript-->
<script>
var nameElement = document.getElementById("username");
var feedbackElement = document.getElementById("feedback");


function processFormData() {
const name = nameElement.value;
const feedback = feedbackElement.value;
if (name=="") {
    alert('尚未填寫姓名');
}else if(feedback=="") {
    alert('尚未填寫想說的話');
}else{
alert("謝謝" + name + "的留言!");
// 獲取table標籤元素
let table = document.getElementById("Feedback_table");
// 建立新行
let newRow = table.insertRow();
// 建立新單元格 向表格中插入元素
newRow.insertCell().innerHTML = new Date().toLocaleString();
newRow.insertCell().innerHTML = nameElement.value;
newRow.insertCell().innerHTML = feedbackElement.value;
newRow.insertCell().innerHTML = '<input type="button" value="Delete" onclick="delRow(this)"></input>'
nameElement.value = '';
feedbackElement.value = '';
}
}

function delRow(r) {
// 指定i=r(this)的父層+父層
var i = r.parentNode.parentNode.rowIndex;
// 刪除指定階層
document.getElementById("Feedback_table").deleteRow(i);
alert("謝謝您的回饋，我們已將資訊刪除!");
}
</script>
</html>